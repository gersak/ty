/* Import Ty CSS variables first */
@import '../static/css/ty.css';

/* Import Tailwind CSS v4 */
@import "tailwindcss";

/* Source file detection for Tailwind */
@source "../../templates/**/*.{html,jinja2}";
@source "../../static/js/**/*.js";

/* v4 Theme configuration - Converting from tailwind.config.js */
@theme {
  /* Map Tailwind semantic colors to Ty variables */
  --color-primary-50: rgb(var(--ty-color-primary-faint) / <alpha-value>);
  --color-primary-100: rgb(var(--ty-color-primary-soft) / <alpha-value>);
  --color-primary-500: rgb(var(--ty-color-primary) / <alpha-value>);
  --color-primary-600: rgb(var(--ty-color-primary-mild) / <alpha-value>);
  --color-primary-900: rgb(var(--ty-color-primary-strong) / <alpha-value>);
  
  --color-success-50: rgb(var(--ty-color-success-faint) / <alpha-value>);
  --color-success-100: rgb(var(--ty-color-success-soft) / <alpha-value>);
  --color-success-500: rgb(var(--ty-color-success) / <alpha-value>);
  --color-success-600: rgb(var(--ty-color-success-mild) / <alpha-value>);
  --color-success-900: rgb(var(--ty-color-success-strong) / <alpha-value>);
  
  --color-danger-50: rgb(var(--ty-color-danger-faint) / <alpha-value>);
  --color-danger-100: rgb(var(--ty-color-danger-soft) / <alpha-value>);
  --color-danger-500: rgb(var(--ty-color-danger) / <alpha-value>);
  --color-danger-600: rgb(var(--ty-color-danger-mild) / <alpha-value>);
  --color-danger-900: rgb(var(--ty-color-danger-strong) / <alpha-value>);
  
  --color-warning-50: rgb(var(--ty-color-warning-faint) / <alpha-value>);
  --color-warning-100: rgb(var(--ty-color-warning-soft) / <alpha-value>);
  --color-warning-500: rgb(var(--ty-color-warning) / <alpha-value>);
  --color-warning-600: rgb(var(--ty-color-warning-mild) / <alpha-value>);
  --color-warning-900: rgb(var(--ty-color-warning-strong) / <alpha-value>);
  
  --color-info-50: rgb(var(--ty-color-info-faint) / <alpha-value>);
  --color-info-100: rgb(var(--ty-color-info-soft) / <alpha-value>);
  --color-info-500: rgb(var(--ty-color-info) / <alpha-value>);
  --color-info-600: rgb(var(--ty-color-info-mild) / <alpha-value>);
  --color-info-900: rgb(var(--ty-color-info-strong) / <alpha-value>);
  
  --color-neutral-50: rgb(var(--ty-color-neutral-faint) / <alpha-value>);
  --color-neutral-100: rgb(var(--ty-color-neutral-soft) / <alpha-value>);
  --color-neutral-500: rgb(var(--ty-color-neutral) / <alpha-value>);
  --color-neutral-600: rgb(var(--ty-color-neutral-mild) / <alpha-value>);
  --color-neutral-900: rgb(var(--ty-color-neutral-strong) / <alpha-value>);

  /* Custom backdrop blur */
  --backdrop-blur-xs: 2px;

  /* Custom animations */
  --animate-fade-in: fadeIn 0.3s ease-in-out;
  --animate-slide-up: slideUp 0.3s ease-out;
  --animate-scale-in: scaleIn 0.2s ease-out;

  /* Custom gradients */
  --gradient-hero: linear-gradient(135deg, rgb(var(--ty-color-primary-faint)) 0%, rgb(var(--ty-color-secondary-faint)) 100%);

  /* Glass morphism shadows */
  --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  --shadow-glass-dark: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
}

/* Custom base styles */
@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply h-full font-sans antialiased;
    color: var(--ty-color-neutral-strong);
    background-color: var(--ty-surface-canvas);
  }

  /* Ensure smooth theme transitions */
  * {
    transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
    transition-duration: 150ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Custom component classes */
@layer components {

  /* Modern card component using Ty variables - Subtle Professional Version */
  .card {
    @apply rounded-xl p-6 shadow-sm transition-all duration-200;
    background-color: var(--ty-surface-elevated);
  }

  .card:hover {
    @apply shadow-md;
    transform: translateY(-1px);
  }

  /* Glass morphism card - Subtle Professional Version */
  .glass-card {
    @apply backdrop-blur-sm border border-white/20 rounded-2xl p-6;
    background: rgba(255, 255, 255, 0.8);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .glass-card:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    transform: translateY(-1px);
  }

  .dark .glass-card {
    @apply border-white/10;
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px -1px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dark .glass-card:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  }

  /* Glass morphism utilities - Converted from plugin */
  .glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Feature icon containers - Subtle Professional Effects */
  .feature-icon {
    @apply w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 transition-all duration-200;
  }

  .feature-icon:hover {
    @apply scale-105;
    transform: scale(1.05) translateY(-1px);
  }

  /* Status badges using Ty colors */
  .status-badge {
    @apply px-3 py-1 rounded-full text-xs font-medium uppercase tracking-wide;
  }

  .status-pending {
    @apply status-badge;
    background-color: var(--ty-bg-warning-soft);
    color: var(--ty-color-warning-strong);
  }

  .status-completed {
    @apply status-badge;
    background-color: var(--ty-bg-success-soft);
    color: var(--ty-color-success-strong);
  }

  .status-in-progress {
    @apply status-badge;
    background-color: var(--ty-bg-info-soft);
    color: var(--ty-color-info-strong);
  }

  /* Priority badges */
  .priority-critical {
    @apply status-badge;
    background-color: var(--ty-bg-danger-soft);
    color: var(--ty-color-danger-strong);
  }

  .priority-high {
    @apply status-badge;
    background-color: var(--ty-bg-danger-soft);
    color: var(--ty-color-danger-mild);
  }

  .priority-medium {
    @apply status-badge;
    background-color: var(--ty-bg-warning-soft);
    color: var(--ty-color-warning-strong);
  }

  .priority-low {
    @apply status-badge;
    background-color: var(--ty-bg-neutral-soft);
    color: var(--ty-color-neutral-strong);
  }

  /* Loading spinner */
  .spinner {
    @apply animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full;
  }

  /* Form enhancements */
  .form-section {
    @apply space-y-6 rounded-xl p-8;
    background-color: var(--ty-surface-elevated);
    box-shadow: var(--ty-shadow-base);
  }

  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply block text-sm font-medium;
    color: var(--ty-color-neutral-strong);
  }

  /* Navigation improvements */
  .nav-link {
    @apply flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200;
    color: var(--ty-color-neutral-mild);
  }

  .nav-link:hover {
    color: var(--ty-color-primary);
    background-color: var(--ty-bg-primary-soft);
  }

  .nav-link.active {
    color: var(--ty-color-primary-strong);
    background-color: var(--ty-bg-primary-soft);
  }

  /* Theme toggle button specific styling */
  .theme-toggle {
    border: 1px solid var(--ty-border-neutral) !important;
    background-color: var(--ty-surface-elevated) !important;
  }

  .theme-toggle:hover {
    background-color: var(--ty-bg-primary-soft) !important;
    border-color: var(--ty-border-primary) !important;
  }

  .dark .theme-toggle {
    border-color: var(--ty-border-neutral) !important;
    background-color: var(--ty-surface-elevated) !important;
  }

  .dark .theme-toggle:hover {
    background-color: var(--ty-bg-primary-soft) !important;
    border-color: var(--ty-border-primary) !important;
  }

  /* Theme icon visibility - Light mode shows moon, Dark mode shows sun */
  .theme-icon-sun {
    display: none;
  }

  .theme-icon-moon {
    display: block;
  }

  .dark .theme-icon-sun {
    display: block;
  }

  .dark .theme-icon-moon {
    display: none;
  }

  /* Dropdown option text color fixes for dark mode */
  ty-option {
    color: var(--ty-color-neutral-strong) !important;
  }

  .dark ty-option {
    color: var(--ty-color-neutral-faint) !important;
  }

  /* Alternative selector if the above doesn't work */
  ty-dropdown ty-option {
    color: var(--ty-color-neutral-strong) !important;
  }

  .dark ty-dropdown ty-option {
    color: var(--ty-color-neutral-faint) !important;
  }
}

/* Utility enhancements using Ty variables */
@layer utilities {

  /* Text gradient utilities */
  .text-gradient-primary {
    background: linear-gradient(135deg, var(--ty-color-primary-strong), var(--ty-color-primary-mild));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-success {
    background: linear-gradient(135deg, var(--ty-color-success-strong), var(--ty-color-success-mild));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Background gradients */
  .bg-gradient-primary {
    background: linear-gradient(135deg,
        var(--ty-bg-primary-soft) 0%,
        var(--ty-bg-primary) 100%);
  }

  .bg-gradient-hero {
    background: linear-gradient(135deg,
        rgba(var(--ty-color-primary-faint), 0.05) 0%,
        rgba(var(--ty-color-secondary-faint), 0.05) 100%);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }
}

/* Define animations */
@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes slideUp {
  0% {
    transform: translateY(10px);
    opacity: 0;
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes scaleIn {
  0% {
    transform: scale(0.9);
    opacity: 0;
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}
