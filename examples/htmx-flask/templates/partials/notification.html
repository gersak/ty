{# Notification Partial - Renders a single notification toast #}
{# Variables: type (success/warning/info/error), message #}

{% set icon_map = {
  'success': 'check-circle',
  'warning': 'alert-triangle', 
  'info': 'info',
  'error': 'x-circle'
} %}

{% set bg_class_map = {
  'success': 'ty-bg-success-',
  'warning': 'ty-bg-warning-',
  'info': 'ty-bg-primary-',
  'error': 'ty-bg-danger-'
} %}

{% set border_class_map = {
  'success': 'ty-border-success',
  'warning': 'ty-border-warning',
  'info': 'ty-border-primary',
  'error': 'ty-border-danger'
} %}

{% set text_class_map = {
  'success': 'ty-text-success++',
  'warning': 'ty-text-warning++',
  'info': 'ty-text-primary++',
  'error': 'ty-text-danger++'
} %}

<div class="notification-toast {{ bg_class_map[type] }} {{ border_class_map[type] }} border-l-4 rounded-lg p-4 mb-3 flex items-start gap-3 shadow-lg"
     x-data="{ show: true }"
     x-show="show"
     x-transition:enter="transition ease-out duration-300"
     x-transition:enter-start="opacity-0 transform translate-x-full"
     x-transition:enter-end="opacity-100 transform translate-x-0"
     x-transition:leave="transition ease-in duration-200"
     x-transition:leave-start="opacity-100 transform translate-x-0"
     x-transition:leave-end="opacity-0 transform translate-x-full"
     x-init="setTimeout(() => show = false, 5000)">
  
  {# Icon #}
  <div class="flex-shrink-0">
    <ty-icon name="{{ icon_map[type] }}" 
             class="{{ text_class_map[type] }}"
             size="lg"></ty-icon>
  </div>
  
  {# Message #}
  <div class="flex-1 {{ text_class_map[type] }} text-sm font-medium">
    {{ message }}
  </div>
  
  {# Close button #}
  <button @click="show = false"
          class="flex-shrink-0 ty-text- hover:ty-text++ transition-colors">
    <ty-icon name="x" size="sm"></ty-icon>
  </button>
</div>
