:host {
  display: inline-block;
  font-family: var(--ty-font-sans);
}

button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--ty-spacing-1);
  /* Base styles */
  min-height: var(--ty-size-md);
  padding: var(--ty-spacing-1) var(--ty-spacing-2);
  font-size: var(--ty-font-base);
  font-weight: var(--ty-font-semibold);
  line-height: var(--ty-line-height-normal);
  cursor: pointer;
  user-select: none;
  transition: var(--ty-transition-all);
  /* Default appearance */
  background: var(--ty-bg-neutral);
  color: var(--ty-color-neutral);
  border: 1px solid var(--ty-border-neutral);
}

button:not(.pill) {
  border-radius: var(--ty-radius-md);
}

/* Slot styling */
::slotted(*) {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Ensure icons in slots are sized appropriately */
::slotted(ty-icon) {
  flex-shrink: 0;
  width: 1.2em;
  height: 1.2em;
}

/* Button text */
.button-text:empty {
  display: none;
}

/* Adjust gap when slots are empty */
/* slot[name="start"]:empty, */
/* slot[name="end"]:empty { */
/*   display: none; */
/* } */

/* Base interaction states */
button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: var(--ty-shadow-sm);
}

button:active:not(:disabled) {
  transform: translateY(0);
}

button:focus-visible {
  outline: none;
}

/* Disabled state */
button:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

/* ===== SIZE MODIFIERS ===== */

/* Extra Small */
button.xs {
  padding: var(--ty-spacing-0_5) var(--ty-spacing-1_5);
  font-size: var(--ty-font-xs);
  gap: var(--ty-spacing-0_5);
}

/* Small */
button.sm {
  padding: var(--ty-spacing-1) var(--ty-spacing-2);
  font-size: var(--ty-font-sm);
  gap: var(--ty-spacing-0_5);
}

/* Medium (default) */
button.md {
  padding: var(--ty-spacing-1) var(--ty-spacing-2);
  font-size: var(--ty-font-base);
  gap: var(--ty-spacing-1);
}

/* Large */
button.lg {
  padding: var(--ty-spacing-1_5) var(--ty-spacing-3);
  font-size: var(--ty-font-lg);
  gap: var(--ty-spacing-1_5);
}

/* Extra Large */
button.xl {
  padding: var(--ty-spacing-2) var(--ty-spacing-4);
  font-size: var(--ty-font-xl);
  gap: var(--ty-spacing-2);
}

/* ===== APPEARANCE MODIFIERS ===== */

/* ===== PILL MODIFIER ===== */

/* Base pill style */
button.pill {
  border-radius: 9999px;
  /* Adjust horizontal padding for better pill shape */
  padding-left: 1.25em;
  padding-right: 1.25em;
}

/* Size-specific pill adjustments */
button.pill.xs {
  padding-left: 1em;
  padding-right: 1em;
}

button.pill.sm {
  padding-left: 1.125em;
  padding-right: 1.125em;
}

button.pill.lg {
  padding-left: 1.5em;
  padding-right: 1.5em;
}

button.pill.xl {
  padding-left: 1.75em;
  padding-right: 1.75em;
}

/* Icon-only pill buttons (circular) */
button.pill:has(ty-icon:only-child),
button.pill:has(slot[name="start"]:only-child),
button.pill:has(slot[name="end"]:only-child) {
  /* Make it circular */
  padding: 0;
  aspect-ratio: 1;
  min-width: var(--ty-size-md);
}

/* Size-specific circular pills */
button.pill.xs:has(ty-icon:only-child) {
  min-width: 2rem;
  min-height: 2rem;
}

button.pill.sm:has(ty-icon:only-child) {
  min-width: 2.25rem;
  min-height: 2.25rem;
}

button.pill.md:has(ty-icon:only-child) {
  min-width: 2.5rem;
  min-height: 2.5rem;
}

button.pill.lg:has(ty-icon:only-child) {
  min-width: 3rem;
  min-height: 3rem;
}

button.pill.xl:has(ty-icon:only-child) {
  min-width: 3.5rem;
  min-height: 3.5rem;
}

/* Accent - Full colored background with white text */
button.accent {
  border: none;
  color: white;
}

/* Filled - Tonal background, no border */
button.filled {
  border: none;
}

/* Outlined - Transparent background with border */
button.outlined {
  background: transparent;
}

/* Plain - Text only, no background or border */
button.plain {
  background: transparent;
  border: none;
}

/* Plain specific hover - remove transform */
button.plain:hover:not(:disabled) {
  transform: none;
  box-shadow: none;
}

/* ===== APPEARANCE Ã— FLAVOR COMBINATIONS ===== */

/* ===== ACTION MODIFIER ===== */

/* Action buttons have equal padding on all sides */
button.action {
  padding: var(--ty-spacing-2);
}

/* Size-specific action adjustments */
button.action.xs {
  padding: var(--ty-spacing-0_5);
}

button.action.sm {
  padding: var(--ty-spacing-1);
}

button.action.md {
  padding: var(--ty-spacing-2);
}

button.action.lg {
  padding: var(--ty-spacing-3);
}

button.action.xl {
  padding: var(--ty-spacing-4);
}

/* Action + Pill combination creates a perfect circle for icon buttons */
button.action.pill:has(ty-icon:only-child) {
  /* Already handled by pill styles, but ensure square aspect ratio */
  padding: 0;
}

/* ----- NEUTRAL FLAVOR ----- */

/* Filled + Outlined (default) */
button.filled-outlined.neutral {
  background: var(--ty-bg-neutral);
  color: var(--ty-color-neutral);
  border-color: var(--ty-border-neutral);
}

button.filled-outlined.neutral:hover:not(:disabled) {
  background: var(--ty-bg-neutral-p1);
}

button.filled-outlined.neutral:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-neutral);
}

/* Accent */
button.accent.neutral {
  background: var(--ty-color-neutral);
}

button.accent.neutral:hover:not(:disabled) {
  background: var(--ty-color-neutral-p1);
}

button.accent.neutral:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-neutral);
}

/* Filled */
button.filled.neutral {
  background: var(--ty-bg-neutral);
  color: var(--ty-color-neutral);
}

button.filled.neutral:hover:not(:disabled) {
  background: var(--ty-bg-neutral-p1);
}

/* Outlined */
button.outlined.neutral {
  color: var(--ty-color-neutral);
  border-color: var(--ty-color-neutral);
}

button.outlined.neutral:hover:not(:disabled) {
  background: var(--ty-bg-neutral-m1);
}

/* Plain */
button.plain.neutral {
  color: var(--ty-color-neutral);
}

button.plain.neutral:hover:not(:disabled) {
  background: var(--ty-bg-neutral-m1);
}

/* ----- IMPORTANT FLAVOR ----- */

/* Filled + Outlined (default) */
button.filled-outlined.important {
  background: var(--ty-bg-important);
  color: var(--ty-color-important);
  border-color: var(--ty-border-important);
}

button.filled-outlined.important:hover:not(:disabled) {
  background: var(--ty-bg-important-p1);
}

button.filled-outlined.important:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-important);
}

/* Accent */
button.accent.important {
  background: var(--ty-color-important);
}

button.accent.important:hover:not(:disabled) {
  background: var(--ty-color-important-p1);
}

button.accent.important:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-important);
}

/* Filled */
button.filled.important {
  background: var(--ty-bg-important);
  color: var(--ty-color-important);
}

button.filled.important:hover:not(:disabled) {
  background: var(--ty-bg-important-p1);
}

/* Outlined */
button.outlined.important {
  color: var(--ty-color-important);
  border-color: var(--ty-color-important);
}

button.outlined.important:hover:not(:disabled) {
  background: var(--ty-bg-important-m1);
}

/* Plain */
button.plain.important {
  color: var(--ty-color-important);
}

button.plain.important:hover:not(:disabled) {
  background: var(--ty-bg-important-m1);
}

/* ----- POSITIVE FLAVOR ----- */

/* Filled + Outlined (default) */
button.filled-outlined.positive {
  background: var(--ty-bg-positive);
  color: var(--ty-color-positive);
  border-color: var(--ty-border-positive);
}

button.filled-outlined.positive:hover:not(:disabled) {
  background: var(--ty-bg-positive-p1);
}

button.filled-outlined.positive:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-positive);
}

/* Accent */
button.accent.positive {
  background: var(--ty-color-positive);
}

button.accent.positive:hover:not(:disabled) {
  background: var(--ty-color-positive-p1);
}

button.accent.positive:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-positive);
}

/* Filled */
button.filled.positive {
  background: var(--ty-bg-positive);
  color: var(--ty-color-positive);
}

button.filled.positive:hover:not(:disabled) {
  background: var(--ty-bg-positive-p1);
}

/* Outlined */
button.outlined.positive {
  color: var(--ty-color-positive);
  border-color: var(--ty-color-positive);
}

button.outlined.positive:hover:not(:disabled) {
  background: var(--ty-bg-positive-m1);
}

/* Plain */
button.plain.positive {
  color: var(--ty-color-positive);
}

button.plain.positive:hover:not(:disabled) {
  background: var(--ty-bg-positive-m1);
}

/* ----- NEGATIVE FLAVOR ----- */

/* Filled + Outlined (default) */
button.filled-outlined.negative {
  background: var(--ty-bg-negative);
  color: var(--ty-color-negative);
  border-color: var(--ty-border-negative);
}

button.filled-outlined.negative:hover:not(:disabled) {
  background: var(--ty-bg-negative-p1);
}

button.filled-outlined.negative:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-negative);
}

/* Accent */
button.accent.negative {
  background: var(--ty-color-negative);
}

button.accent.negative:hover:not(:disabled) {
  background: var(--ty-color-negative-p1);
}

button.accent.negative:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-negative);
}

/* Filled */
button.filled.negative {
  background: var(--ty-bg-negative);
  color: var(--ty-color-negative);
}

button.filled.negative:hover:not(:disabled) {
  background: var(--ty-bg-negative-p1);
}

/* Outlined */
button.outlined.negative {
  color: var(--ty-color-negative);
  border-color: var(--ty-color-negative);
}

button.outlined.negative:hover:not(:disabled) {
  background: var(--ty-bg-negative-m1);
}

/* Plain */
button.plain.negative {
  color: var(--ty-color-negative);
}

button.plain.negative:hover:not(:disabled) {
  background: var(--ty-bg-negative-m1);
}

/* ----- EXCEPTION FLAVOR ----- */

/* Filled + Outlined (default) */
button.filled-outlined.exception {
  background: var(--ty-bg-exception);
  color: var(--ty-color-exception);
  border-color: var(--ty-border-exception);
}

button.filled-outlined.exception:hover:not(:disabled) {
  background: var(--ty-bg-exception-p1);
}

button.filled-outlined.exception:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-exception);
}

/* Accent */
button.accent.exception {
  background: var(--ty-color-exception);
}

button.accent.exception:hover:not(:disabled) {
  background: var(--ty-color-exception-p1);
}

button.accent.exception:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-exception);
}

/* Filled */
button.filled.exception {
  background: var(--ty-bg-exception);
  color: var(--ty-color-exception);
}

button.filled.exception:hover:not(:disabled) {
  background: var(--ty-bg-exception-p1);
}

/* Outlined */
button.outlined.exception {
  color: var(--ty-color-exception);
  border-color: var(--ty-color-exception);
}

button.outlined.exception:hover:not(:disabled) {
  background: var(--ty-bg-exception-m1);
}

/* Plain */
button.plain.exception {
  color: var(--ty-color-exception);
}

button.plain.exception:hover:not(:disabled) {
  background: var(--ty-bg-exception-m1);
}

/* ----- UNIQUE FLAVOR ----- */

/* Filled + Outlined (default) */
button.filled-outlined.unique {
  background: var(--ty-bg-unique);
  color: var(--ty-color-unique);
  border-color: var(--ty-border-unique);
}

button.filled-outlined.unique:hover:not(:disabled) {
  background: var(--ty-bg-unique-p1);
}

button.filled-outlined.unique:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-unique);
}

/* Accent */
button.accent.unique {
  background: var(--ty-color-unique);
}

button.accent.unique:hover:not(:disabled) {
  background: var(--ty-color-unique-p1);
}

button.accent.unique:focus-visible {
  box-shadow: 0 0 0 2px var(--ty-bg), 0 0 0 4px var(--ty-color-unique);
}

/* Filled */
button.filled.unique {
  background: var(--ty-bg-unique);
  color: var(--ty-color-unique);
}

button.filled.unique:hover:not(:disabled) {
  background: var(--ty-bg-unique-p1);
}

/* Outlined */
button.outlined.unique {
  color: var(--ty-color-unique);
  border-color: var(--ty-color-unique);
}

button.outlined.unique:hover:not(:disabled) {
  background: var(--ty-bg-unique-m1);
}

/* Plain */
button.plain.unique {
  color: var(--ty-color-unique);
}

button.plain.unique:hover:not(:disabled) {
  background: var(--ty-bg-unique-m1);
}
